<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecting...</title>
  <script>
    // Check if we're on the custom domain or localhost
    const isCustomDomain = window.location.hostname === 'alexkavaleuskiy.me';
    const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
    
    // Set base URL based on the current host
    let baseUrl = '';
    if (!isLocalhost && !isCustomDomain) {
      baseUrl = '/akavaleuskiy-portfolio';
    }
    
    let path = window.location.pathname;
    
    // Remove the base URL if it exists in the path (for GitHub Pages without custom domain)
    if (!isLocalhost && !isCustomDomain && path.startsWith('/akavaleuskiy-portfolio')) {
      path = path.replace(/^\/akavaleuskiy-portfolio/, '');
    }
    
    const search = window.location.search;
    const hash = window.location.hash;
    
    // Redirect to the index.html with the current path
    window.location.href = `${baseUrl}/index.html${path}${search}${hash}`;
  </script>
</head>
<body>
  <p>Redirecting to the application...</p>
  <p>If you are not redirected automatically, <a id="redirect-link" href="#">click here</a>.</p>
  <script>
    // Fallback in case the redirect doesn't work
    document.getElementById('redirect-link').href = `${baseUrl}/index.html${path}${search}${hash}`;
  </script>
</body>
</html>
